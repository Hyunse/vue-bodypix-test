(function(e){function t(t){for(var r,a,s=t[0],u=t[1],c=t[2],d=0,p=[];d<s.length;d++)a=s[d],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&p.push(o[a][0]),o[a]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);l&&l(t);while(p.length)p.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,s=1;s<n.length;s++){var u=n[s];0!==o[u]&&(r=!1)}r&&(i.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},o={app:0},i=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/vue-bodypix-test/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var l=u;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var r=n("85ec"),o=n.n(r);o.a},1:function(e,t){},2:function(e,t){},3:function(e,t){},4:function(e,t){},5:function(e,t){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),o=n("342d"),i=n.n(o),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"wapper",attrs:{id:"app"}},[n("Video")],1)},s=[],u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("button",{on:{click:e.mask}},[e._v("body-pix 1")]),n("button",{on:{click:e.maskWithBokeh}},[e._v("blur")]),n("button",{on:{click:function(t){e.stop=!0}}},[e._v("stop")]),n("br"),n("label",{attrs:{for:"segmentationThreshold"}},[e._v("segmentationThreshold:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.segmentationThreshold,expression:"segmentationThreshold"}],attrs:{type:"number",name:"segmentationThreshold",min:"0.0",max:"1.0",step:"0.1"},domProps:{value:e.segmentationThreshold},on:{input:function(t){t.target.composing||(e.segmentationThreshold=t.target.value)}}}),n("br"),n("div",{staticClass:"flex"},[n("video",{staticClass:"video-js vjs-default-skin",attrs:{id:"myVideo",playsinline:""}}),n("canvas",{ref:"output",staticClass:"video-canvas",attrs:{id:"video-canvas"}})])])},c=[],l=(n("a9e3"),n("96cf"),n("1da1")),d=(n("fda2"),n("d52a"),n("f0e2"),n("d093"),n("a9ee"),n("3966"),n("5479")),p={data:function(){return{segmentationThreshold:.7,stop:!1,player:"",options:{controls:!0,autoplay:!1,fluid:!1,loop:!0,width:640,height:480,bigPlayButton:!1,controlBar:{volumePanel:!1,pictureInPictureToggle:!1,fullscreenToggle:!1},plugins:{record:{audio:!1,video:{width:640,height:480},debug:!0}}}}},mounted:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia,n({video:!0,audio:!1},(function(e){document.getElementById("myVideo").srcObject=e,document.getElementById("myVideo").play(),console.log("set")}),(function(e){console.log("Failed to get local stream",e)})),t.next=4,d["c"]();case 4:e.net=t.sent;case 5:case"end":return t.stop()}}),t)})))()},beforeDestroy:function(){this.player&&(this.player.dispose(),this.player)},methods:{mask:function(){this.stop=!1,this.doBodyPix()},maskWithBokeh:function(){this.stop=!1,console.log("bokeh"),this.bokeh()},doBodyPix:function(){var e=document.getElementById("video-canvas");e.setAttribute("width",640),e.setAttribute("height",480);var t=document.getElementById("myVideo");t.setAttribute("width",640),t.setAttribute("height",480);var n=this;function r(){return o.apply(this,arguments)}function o(){return o=Object(l["a"])(regeneratorRuntime.mark((function o(){var i;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,n.net.segmentPerson(t,{segmentationThreshold:Number(n.segmentationThreshold)});case 3:i=o.sent,n.drawMask(i,e,t,{r:61,g:220,b:132,a:255}),o.next=11;break;case 7:o.prev=7,o.t0=o["catch"](0),console.log(o.t0),window.console.log("Retrying...");case 11:if(o.prev=11,!n.stop){o.next=14;break}return o.abrupt("return");case 14:return requestAnimationFrame(r),o.finish(11);case 16:case"end":return o.stop()}}),o,null,[[0,7,11,16]])}))),o.apply(this,arguments)}r()},drawMask:function(e,t,n,r){var o=d["d"](e,{r:0,g:0,b:0,a:0},r,!1);d["b"](t,n,o,1,0,!1)},bokeh:function(){var e=document.getElementById("video-canvas");e.setAttribute("width",640),e.setAttribute("height",480);var t=document.getElementById("myVideo");t.setAttribute("width",640),t.setAttribute("height",480);var n=this;function r(){return o.apply(this,arguments)}function o(){return o=Object(l["a"])(regeneratorRuntime.mark((function o(){var i;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,n.net.segmentPerson(t);case 3:i=o.sent,d["a"](e,t,i,1,5,!1),o.next=11;break;case 7:o.prev=7,o.t0=o["catch"](0),console.log(o.t0),window.console.log("Retrying...");case 11:if(o.prev=11,!n.stop){o.next=14;break}return o.abrupt("return");case 14:return requestAnimationFrame(r),o.finish(11);case 16:case"end":return o.stop()}}),o,null,[[0,7,11,16]])}))),o.apply(this,arguments)}r()}}},f=p,h=(n("5b6d"),n("2877")),m=Object(h["a"])(f,u,c,!1,null,null,null),v=m.exports,g={name:"App",components:{Video:v},data:function(){return{page:1}}},b=g,y=(n("034f"),Object(h["a"])(b,a,s,!1,null,null,null)),w=y.exports;r["a"].use(i.a),r["a"].config.productionTip=!1,new r["a"]({render:function(e){return e(w)}}).$mount("#app")},"5b6d":function(e,t,n){"use strict";var r=n("b84a"),o=n.n(r);o.a},"85ec":function(e,t,n){},b84a:function(e,t,n){}});
//# sourceMappingURL=app.c1b82806.js.map